[gd_scene load_steps=6 format=4 uid="uid://dyng4bc145eaf"]

[ext_resource type="TileSet" uid="uid://b1vs1w6ovcb5" path="res://levels/assets/tilesets/laundromat.tres" id="1_htsic"]
[ext_resource type="PackedScene" uid="uid://7bpnmkemoum7" path="res://enemies/bubble/BubbleSpawner.tscn" id="2_kkyu0"]
[ext_resource type="PackedScene" uid="uid://bin3r8r5qu1fi" path="res://player/player.tscn" id="3_768et"]
[ext_resource type="PackedScene" uid="uid://dhnlbao0vrili" path="res://enemies/bubble/BubbleAgent.tscn" id="4_co0hy"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_vsaj4"]
vertices = PackedVector2Array(2493.98, 1490, 8.00781, 1491.99, 9.99219, 10, 2492.01, 10)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(0, 0, -2, 1502, 2504, 1500, 2502, 0)])

[node name="Laundromat" type="Node2D"]

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
visible = false
navigation_polygon = SubResource("NavigationPolygon_vsaj4")

[node name="Floor" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAAAAAAAAACAAEAAAAAAAEAAAAAAAEAAAAAAAIAAAAEAAEAAAAAAAMAAAAEAAEAAAAAAAQAAAAEAAEAAAAAAAUAAAAEAAEAAAAAAAYAAAAAAAEAAAAAAAcAAAACAAEAAAAAAAgAAAAAAAEAAAAAAAkAAAAEAAEAAAAAAAoAAAAEAAEAAAAAAAsAAAACAAEAAAAAAAwAAAAAAAEAAAAAAA0AAAACAAEAAAABAAAAAAACAAEAAAABAAEAAAAEAAEAAAABAAIAAAAEAAEAAAABAAMAAAAAAAEAAAABAAQAAAAAAAEAAAABAAUAAAAAAAEAAAABAAYAAAAAAAEAAAABAAcAAAAAAAEAAAABAAgAAAAEAAEAAAABAAkAAAACAAEAAAABAAoAAAACAAEAAAABAAsAAAAEAAEAAAABAAwAAAAEAAEAAAABAA0AAAAAAAUAAAACAAAAAAAAAAUAAAACAAEAAAAAAAEAAAACAAIAAAACAAEAAAACAAMAAAAEAAEAAAACAAQAAAAEAAEAAAACAAUAAAAAAAEAAAACAAYAAAAAAAEAAAACAAcAAAAAAAEAAAACAAgAAAAAAAEAAAACAAkAAAACAAEAAAACAAoAAAACAAEAAAACAAsAAAAEAAEAAAACAAwAAAAAAAEAAAACAA0AAAACAAEAAAADAAAAAAAAAAEAAAADAAEAAAACAAEAAAADAAIAAAACAAEAAAADAAMAAAACAAEAAAADAAQAAAACAAEAAAADAAUAAAAEAAEAAAADAAYAAAAAAAEAAAADAAcAAAAAAAEAAAADAAgAAAACAAEAAAADAAkAAAAEAAEAAAADAAoAAAAAAAEAAAADAAsAAAACAAEAAAADAAwAAAAEAAEAAAADAA0AAAACAAEAAAAEAAAAAAAAAAEAAAAEAAEAAAACAAEAAAAEAAIAAAAAAAEAAAAEAAMAAAAAAAEAAAAEAAQAAAACAAEAAAAEAAUAAAAAAAEAAAAEAAYAAAAAAAEAAAAEAAcAAAACAAEAAAAEAAgAAAAAAAEAAAAEAAkAAAAEAAEAAAAEAAoAAAAEAAEAAAAEAAsAAAAEAAEAAAAEAAwAAAAEAAEAAAAEAA0AAAACAAEAAAAFAAAAAAAEAAEAAAAFAAEAAAAAAAEAAAAFAAIAAAAAAAEAAAAFAAMAAAAAAAEAAAAFAAQAAAAAAAEAAAAFAAUAAAAEAAEAAAAFAAYAAAAEAAEAAAAFAAcAAAAEAAEAAAAFAAgAAAAAAAEAAAAFAAkAAAAEAAEAAAAFAAoAAAAEAAEAAAAFAAsAAAAAAAEAAAAFAAwAAAAEAAEAAAAFAA0AAAACAAEAAAAGAAAAAAACAAEAAAAGAAEAAAACAAEAAAAGAAIAAAAEAAEAAAAGAAMAAAAAAAEAAAAGAAQAAAAAAAEAAAAGAAUAAAAEAAEAAAAGAAYAAAAEAAEAAAAGAAcAAAAAAAEAAAAGAAgAAAAAAAEAAAAGAAkAAAAEAAEAAAAGAAoAAAAAAAEAAAAGAAsAAAAAAAEAAAAGAAwAAAACAAEAAAAGAA0AAAACAAEAAAAHAAAAAAAEAAEAAAAHAAEAAAAEAAEAAAAHAAIAAAACAAEAAAAHAAMAAAAEAAEAAAAHAAQAAAAEAAEAAAAHAAUAAAAEAAEAAAAHAAYAAAAEAAEAAAAHAAcAAAACAAEAAAAHAAgAAAAAAAEAAAAHAAkAAAAAAAEAAAAHAAoAAAAEAAEAAAAHAAsAAAACAAEAAAAHAAwAAAAEAAEAAAAHAA0AAAAEAAEAAAAIAAAAAAAAAAEAAAAIAAEAAAAEAAEAAAAIAAIAAAAEAAEAAAAIAAMAAAAAAAEAAAAIAAQAAAACAAEAAAAIAAUAAAAEAAEAAAAIAAYAAAAEAAEAAAAIAAcAAAAEAAEAAAAIAAgAAAACAAEAAAAIAAkAAAACAAEAAAAIAAoAAAAAAAEAAAAIAAsAAAAEAAEAAAAIAAwAAAAAAAEAAAAIAA0AAAACAAEAAAAJAAAAAAAAAAEAAAAJAAEAAAACAAEAAAAJAAIAAAAAAAEAAAAJAAMAAAAAAAEAAAAJAAQAAAAAAAEAAAAJAAUAAAAEAAEAAAAJAAYAAAAAAAEAAAAJAAcAAAAEAAEAAAAJAAgAAAACAAEAAAAJAAkAAAAEAAEAAAAJAAoAAAAEAAEAAAAJAAsAAAAAAAEAAAAJAAwAAAAAAAEAAAAJAA0AAAAAAAUAAAAKAAAAAAAEAAEAAAAKAAEAAAACAAEAAAAKAAIAAAAAAAEAAAAKAAMAAAACAAEAAAAKAAQAAAAEAAEAAAAKAAUAAAAEAAEAAAAKAAYAAAAAAAEAAAAKAAcAAAAEAAEAAAAKAAgAAAACAAEAAAAKAAkAAAAEAAEAAAAKAAoAAAACAAEAAAAKAAsAAAAEAAEAAAAKAAwAAAAEAAEAAAAKAA0AAAAEAAEAAAALAAAAAAACAAEAAAALAAEAAAACAAEAAAALAAIAAAACAAEAAAALAAMAAAACAAEAAAALAAQAAAAAAAEAAAALAAUAAAAEAAEAAAALAAYAAAAAAAEAAAALAAcAAAAEAAEAAAALAAgAAAACAAEAAAALAAkAAAAEAAEAAAALAAoAAAAAAAEAAAALAAsAAAACAAEAAAALAAwAAAACAAEAAAALAA0AAAAAAAEAAAAMAAAAAAAEAAEAAAAMAAEAAAACAAEAAAAMAAIAAAACAAEAAAAMAAMAAAAEAAEAAAAMAAQAAAACAAEAAAAMAAUAAAAAAAEAAAAMAAYAAAAEAAEAAAAMAAcAAAACAAEAAAAMAAgAAAAAAAEAAAAMAAkAAAAEAAEAAAAMAAoAAAAAAAEAAAAMAAsAAAAAAAUAAAAMAAwAAAACAAEAAAAMAA0AAAAAAAEAAAANAAAAAAAAAAEAAAANAAEAAAAEAAEAAAANAAIAAAAAAAEAAAANAAMAAAAAAAEAAAANAAQAAAAEAAEAAAANAAUAAAAEAAEAAAANAAYAAAAAAAEAAAANAAcAAAAEAAEAAAANAAgAAAAEAAEAAAANAAkAAAAEAAEAAAANAAoAAAAAAAEAAAANAAsAAAAEAAEAAAANAAwAAAAAAAEAAAANAA0AAAAAAAEAAAAOAAAAAAACAAEAAAAOAAEAAAACAAEAAAAOAAIAAAACAAEAAAAOAAMAAAACAAEAAAAOAAQAAAACAAEAAAAOAAUAAAAAAAEAAAAOAAYAAAACAAEAAAAOAAcAAAACAAEAAAAOAAgAAAAEAAEAAAAOAAkAAAAAAAEAAAAOAAoAAAAEAAEAAAAOAAsAAAAAAAEAAAAOAAwAAAAAAAEAAAAOAA0AAAAEAAEAAAAPAAAAAAAEAAEAAAAPAAIAAAACAAEAAAAPAAMAAAACAAEAAAAPAAQAAAACAAEAAAAPAAUAAAAAAAEAAAAPAAYAAAACAAEAAAAPAAcAAAAEAAEAAAAPAAgAAAAEAAEAAAAPAAkAAAACAAEAAAAPAAoAAAACAAEAAAAPAAsAAAACAAEAAAAPAAwAAAACAAEAAAAPAA0AAAAEAAEAAAAQAAAAAAAAAAEAAAAQAAEAAAAAAAEAAAAQAAIAAAACAAEAAAAQAAMAAAACAAEAAAAQAAQAAAAAAAEAAAAQAAUAAAACAAEAAAAQAAYAAAACAAEAAAAQAAcAAAAAAAEAAAAQAAgAAAAAAAEAAAAQAAkAAAAAAAEAAAAQAAoAAAACAAEAAAAQAAsAAAACAAEAAAAQAAwAAAAEAAEAAAAQAA0AAAACAAEAAAARAAAAAAAAAAEAAAARAAEAAAAAAAEAAAARAAIAAAAEAAEAAAARAAMAAAAEAAEAAAARAAQAAAAEAAEAAAARAAUAAAAEAAEAAAARAAYAAAACAAEAAAARAAcAAAAAAAEAAAARAAgAAAACAAEAAAARAAkAAAAEAAEAAAARAAoAAAACAAEAAAARAAsAAAACAAEAAAARAAwAAAACAAEAAAARAA0AAAAEAAEAAAASAAAAAAAEAAEAAAASAAEAAAACAAEAAAASAAIAAAACAAEAAAASAAMAAAAEAAEAAAASAAQAAAAAAAEAAAASAAUAAAAEAAEAAAASAAYAAAAEAAEAAAASAAcAAAAEAAEAAAASAAgAAAAEAAEAAAASAAkAAAAAAAEAAAASAAoAAAACAAEAAAASAAsAAAAEAAEAAAASAAwAAAAAAAEAAAASAA0AAAACAAEAAAATAAAAAAAAAAEAAAATAAEAAAACAAEAAAATAAIAAAACAAEAAAATAAMAAAACAAEAAAATAAQAAAAEAAEAAAATAAUAAAAEAAEAAAATAAYAAAACAAEAAAATAAcAAAACAAEAAAATAAgAAAAEAAEAAAATAAkAAAAAAAEAAAATAAoAAAAAAAEAAAATAAsAAAAEAAEAAAATAAwAAAACAAEAAAATAA0AAAAEAAEAAAAUAAAAAAACAAEAAAAUAAEAAAACAAEAAAAUAAIAAAACAAEAAAAUAAMAAAAEAAEAAAAUAAQAAAAEAAEAAAAUAAUAAAACAAEAAAAUAAYAAAAAAAEAAAAUAAcAAAAAAAEAAAAUAAgAAAAEAAEAAAAUAAkAAAACAAEAAAAUAAoAAAACAAEAAAAUAAsAAAACAAEAAAAUAAwAAAAAAAEAAAAUAA0AAAACAAEAAAAVAAAAAAACAAEAAAAVAAEAAAAEAAEAAAAVAAIAAAAEAAEAAAAVAAMAAAACAAEAAAAVAAQAAAAAAAEAAAAVAAUAAAAEAAEAAAAVAAYAAAAEAAEAAAAVAAcAAAAAAAEAAAAVAAgAAAAAAAEAAAAVAAkAAAAAAAUAAAAVAAoAAAAAAAEAAAAVAAsAAAACAAEAAAAVAAwAAAAAAAEAAAAVAA0AAAACAAEAAAAWAAAAAAACAAEAAAAWAAEAAAAAAAEAAAAWAAIAAAAAAAEAAAAWAAMAAAACAAEAAAAWAAQAAAAAAAEAAAAWAAUAAAAEAAEAAAAWAAYAAAAEAAEAAAAWAAcAAAAEAAEAAAAWAAgAAAAEAAEAAAAWAAkAAAAAAAEAAAAWAAoAAAACAAEAAAAWAAsAAAAAAAEAAAAWAAwAAAACAAEAAAAWAA0AAAACAAEAAAAXAAAAAAACAAEAAAAXAAEAAAAEAAEAAAAXAAIAAAAEAAEAAAAXAAMAAAAAAAEAAAAXAAQAAAACAAEAAAAXAAUAAAACAAEAAAAXAAYAAAAEAAEAAAAXAAcAAAAAAAEAAAAXAAgAAAAAAAEAAAAXAAkAAAACAAEAAAAXAAoAAAAEAAEAAAAXAAsAAAAAAAEAAAAXAAwAAAAAAAEAAAAXAA0AAAAEAAEAAAAPAAEAAAACAAEAAAAAAA4AAAACAAEAAAABAA4AAAAAAAEAAAACAA4AAAACAAEAAAADAA4AAAAAAAEAAAAEAA4AAAAAAAEAAAAFAA4AAAACAAEAAAAGAA4AAAAEAAEAAAAHAA4AAAAEAAEAAAAIAA4AAAACAAEAAAAJAA4AAAAEAAEAAAAKAA4AAAAAAAEAAAALAA4AAAAEAAEAAAAMAA4AAAAEAAEAAAANAA4AAAACAAEAAAAOAA4AAAAEAAEAAAAPAA4AAAAAAAEAAAAQAA4AAAAEAAEAAAARAA4AAAACAAEAAAASAA4AAAAEAAEAAAATAA4AAAAAAAEAAAAUAA4AAAAAAAEAAAAVAA4AAAACAAEAAAAWAA4AAAAAAAEAAAAXAA4AAAAEAAEAAAAYAAAAAAAEAAEAAAAYAAEAAAACAAEAAAAYAAIAAAAAAAEAAAAYAAMAAAAEAAEAAAAYAAQAAAAEAAEAAAAYAAUAAAAEAAEAAAAYAAYAAAACAAEAAAAYAAcAAAACAAEAAAAYAAgAAAAAAAEAAAAYAAkAAAACAAEAAAAYAAoAAAACAAEAAAAYAAsAAAAEAAEAAAAYAAwAAAAEAAEAAAAYAA0AAAACAAEAAAAYAA4AAAACAAEAAAA=")
tile_set = ExtResource("1_mq18v")
rendering_quadrant_size = 50
collision_enabled = false

[node name="Walls" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAAAAEAAAAEAAQAAAAAAAMAAAAEAAQAAAAAAAUAAAAEAAQAAAAAAAcAAAAEAAQAAAAAAAkAAAAEAAQAAAAAAAsAAAAEAAQAAAAAAA0AAAAEAAQAAAABAAAAAAAEAAQAAFADAAAAAAAEAAQAAFAFAAAAAAAEAAQAAFAHAAAAAAAEAAQAAFAJAAAAAAAEAAQAAFALAAAAAAAEAAQAAFANAAAAAAAEAAQAAFAPAAAAAAAEAAQAAFARAAAAAAAEAAQAAFATAAAAAAAEAAQAAFAVAAAAAAAEAAQAAFAXAAAAAAAEAAQAAFABAA4AAAAEAAQAAGADAA4AAAAEAAQAAGAFAA4AAAAEAAQAAGAHAA4AAAAEAAQAAGAJAA4AAAAEAAQAAGALAA4AAAAEAAQAAGANAA4AAAAEAAQAAGAPAA4AAAAEAAQAAGARAA4AAAAEAAQAAGATAA4AAAAEAAQAAGAVAA4AAAAEAAQAAGAXAA4AAAAEAAQAAGAYAAEAAAAEAAQAADAYAAMAAAAEAAQAADAYAAUAAAAEAAQAADAYAAcAAAAEAAQAADAYAAkAAAAEAAQAADAYAAsAAAAEAAQAADAYAA0AAAAEAAQAADAJAAoAAAAEAAQAAGALAAoAAAAEAAQAAGANAAoAAAAEAAQAAGAPAAoAAAAEAAQAAGA=")
tile_set = ExtResource("1_mq18v")
navigation_enabled = false

[node name="Trim" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD//wAAAAACAAUAAGD//wEAAAACAAUAAGD//wIAAAACAAUAAGD//wMAAAACAAUAAGD//wQAAAACAAUAAGD//wUAAAACAAUAAGAAAP//AAACAAUAAAABAP//AAACAAUAAAACAP//AAACAAUAAAADAP//AAACAAUAAAAEAP//AAACAAUAAAAFAP//AAACAAUAAAAGAP//AAACAAUAAAAHAP//AAACAAUAAAAIAP//AAACAAUAAAAJAP//AAACAAUAAAAKAP//AAACAAUAAAALAP//AAACAAUAAAAMAP//AAACAAUAAAANAP//AAACAAUAAAAOAP//AAACAAUAAAD/////AgAAAAAAAAAZAP//AgAAAAAAAFAZAA8AAgAAAAAAADD//w8AAgAAAAAAAGD//wYAAAACAAUAAGD//wcAAAACAAUAAGD//wgAAAACAAUAAGD//wkAAAACAAUAAGD//wsAAAACAAUAAGD//wwAAAACAAUAAGD//w0AAAACAAUAAGD//w4AAAACAAUAAGD//woAAAACAAUAAGAAAA8AAAACAAUAADABAA8AAAACAAUAADACAA8AAAACAAUAADADAA8AAAACAAUAADAEAA8AAAACAAUAADAFAA8AAAACAAUAADAGAA8AAAACAAUAADAHAA8AAAACAAUAADAIAA8AAAACAAUAADAJAA8AAAACAAUAADAKAA8AAAACAAUAADALAA8AAAACAAUAADAMAA8AAAACAAUAADANAA8AAAACAAUAADAOAA8AAAACAAUAADAPAA8AAAACAAUAADAQAA8AAAACAAUAADARAA8AAAACAAUAADASAA8AAAACAAUAADATAA8AAAACAAUAADAUAA8AAAACAAUAADAVAA8AAAACAAUAADAWAA8AAAACAAUAADAXAA8AAAACAAUAADAYAA8AAAACAAUAADAZAA4AAAACAAUAAFAZAA0AAAACAAUAAFAZAAsAAAACAAUAAFAZAAwAAAACAAUAAFAZAAAAAAACAAUAAFAZAAEAAAACAAUAAFAZAAIAAAACAAUAAFAZAAMAAAACAAUAAFAZAAQAAAACAAUAAFAZAAUAAAACAAUAAFAZAAYAAAACAAUAAFAZAAcAAAACAAUAAFAZAAgAAAACAAUAAFAZAAkAAAACAAUAAFAZAAoAAAACAAUAAFAPAP//AAACAAUAAAAQAP//AAACAAUAAAARAP//AAACAAUAAAASAP//AAACAAUAAAATAP//AAACAAUAAAAUAP//AAACAAUAAAAVAP//AAACAAUAAAAWAP//AAACAAUAAAAXAP//AAACAAUAAAAYAP//AAACAAUAAAA=")
tile_set = ExtResource("1_mq18v")
collision_enabled = false
navigation_enabled = false

[node name="player" parent="." instance=ExtResource("2_6gavc")]
position = Vector2(587, 711)
chargeCooldown = 0.2

[node name="Camera2D" type="Camera2D" parent="player"]

[node name="Patrol Paths" type="Node2D" parent="."]

[node name="PathUpper" type="Line2D" parent="Patrol Paths"]
points = PackedVector2Array(502, 203, 2200, 200, 2200, 701)

[node name="PathLower" type="Line2D" parent="Patrol Paths"]
points = PackedVector2Array(201, 1296, 2300, 1299)

[node name="Spawners" type="Node2D" parent="."]

[node name="Spawner" parent="Spawners" node_paths=PackedStringArray("PatrolPath") instance=ExtResource("3_5ayhr")]
position = Vector2(301, 304)
PatrolPath = NodePath("../../Patrol Paths/PathUpper")
SecondsBetweenSpawn = 5.0
MaxNumberOfAliveBubbles = 5
MaxNumberOfTotalSpawns = 25

[node name="Bubbles" type="Node2D" parent="."]

[node name="BubbleBody" parent="Bubbles" instance=ExtResource("4_3brqj")]
position = Vector2(301, 901)

[node name="BubbleBody2" parent="Bubbles" node_paths=PackedStringArray("path") instance=ExtResource("4_3brqj")]
position = Vector2(204, 1296)
seekKepsylon = 500.0
path = NodePath("../../Patrol Paths/PathLower")
